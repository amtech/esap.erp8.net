# 计划任务
* 目前包括3种种用户计划任务和5种系统计划任务(微信提醒，esmail，通讯录同步，审批同步，打卡同步)：

 1. 查询任务QueryTask（select）
 2. 新闻任务QueryNewsTask（select）
 3. 执行任务ExecTask（update/insert/delete）

## 配置方式
* 首先，到sql/esap/task.get中编辑需要执行的sql模板

![](./img/task-1.png)

* 其次，到配置中新增开启这些计划，并选择类型，编辑周期，保存重启。

![](./img/task-2.png)

## 周期(Express)表达式详解
|字段|允许值|特殊字符值|
|:----|:--:|:--:|
|秒|0-59|, - * /|
|分|0-59|, - * /|
|时|0-23|, - * /|
|日|1-31|, - * /|
|月|1-12|, - * /|
|周|0-7|, - * /|

|特殊字符值|意义|
|:----:|:--|
|*   | 表示所有值|
|-   | 表示一个指定的范围|
|,   | 表示附加一个并列值|
|/   | 符号前表示开始时间，符号后表示每次递增的值|

|示例表达式|意义|
|:----|:--|
|`0 0 12 * * *` |   每天中午12点触发|
|`0 15 10 * * *` |   每天上午10:15触发|
|`0 * 14 * * *` |   在每天下午2点到下午2:59期间的每1分钟触发|
|`0 */5 14 * * *` |   在每天下午2点到下午2:55期间的每5分钟触发|
|`0 */5 14,18 * * *` |   在每天下午2点到2:55期间和下午6点到6:55期间的每5分钟触发|
|`0 0-5 14 * * *` |   在每天下午2点到下午2:05期间的每1分钟触发|
|`0 10,44 14 * 3 3` |   每年三月的星期三的下午2:10和2:44触发|
|`0 15 10 * * 1-5` |   周一至周五的上午10:15触发|
|`0 15 10 15 * *` |   每月15日上午10:15触发|
