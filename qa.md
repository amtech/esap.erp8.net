# 常见问题
esap服务器已服务于近百家企业的生产环境中，一些常见的新手问题罗列如下。

## 高低配可以用esap吗
可以，但微信办理和图库等功能可能会受限制，微信提醒，微信查询完全没有问题。

## 为什么使用golang开发esap
对于新手来说，IIS配置和设置太复杂，动不动就跳出一个乱糟糟的错误页面，玩过ESWEB的筒子你懂的。

对于新手来说，php环境配置更加复杂，php的性能和安全性也是一个重要问题。

使用golang开发，避免了所有依赖，完全绿色无污染，原生支持高并发，何乐不为呢？

## esap有限制吗
esap本身并无任何限制，但微信有限制，例如图片不超过2M，文件不超过20M，密文消息每天只能发100次，主动消息默认总次数为200*30=6000次。（可认证扩容）

## esap收费吗
esap有免费通道，也有企业通道、VIP通道，提供定制开发，包括APP,desktop等API对接ES个性功能，按照开发周期适当收费。

免费通道需要使用最新版程序，不能使用较早版本。

## esap怎么部署
首次运行时导入`微信提醒`模板，运行esap.exe进行配置即可。

## esap怎么升级
覆盖新版esap.exe和相关文件夹即可。

## esap可以单机断网运行吗
不可以，esap是分布式软件，需网络鉴权，微信API必须连通外网才能与微信服务器交互。

## 微信提醒模板导入时提示公式或规范导入失败
这是正常的，124的模板导入到高低配等高版本时会出现，请无视就好，不影响使用。

## 微信提醒收不到
检查管理组通讯录权限，微信通讯录的姓名和账号是否与提醒中的接收人一致。

或去除回复的文字中特殊字符后再尝试。

## 微信提醒不能发图片附件
ES开启系统网盘，esap在网盘服务器上运行。

## 微信回调失败
确保HOST和端口能被外网访问，确保corpId,secret,token,encodingAesKey参数正确。

## 微信查询收不到
企业号小助手开回调，查询结果不能有特殊字符，例如:"<",">","&"等。

## 中文乱码
中文字段SQL类型为nvarchar，如果是varchar需先convert()或cast()。

## 微信查询结果不正确
检查你的sql语句，重存微信查询表单。

## 微信查询图片或附件不返回
注意微信限制：图片小于2M，附件大于5K小于20M

## 微信签到不成功
企业号小助手开回调并开位置上报，微信用户允许上报。

## 微信办理不成功
检查esweb配置中RequestMainURL"是否正确设置，检查微信通讯录的姓名，账号与ES姓名，账号是否一致

目前9.4.124~434的工作流办理测试通过，更高版本ES架构变(xia)化(hu)太(nao)大，可能不兼容。

## 微信图库上传失败或打不开
注意微信限制：图片不能超过2M，附件不超过20M

目前9.4.124~434的微信图库测试通过，更高版本ES架构变(xia)化(hu)太(nao)大，可能不兼容。

## 微信填报新建查看待办等打不开
检查Esweb根目录的web.config文件的`RequestMainURL`键值。

检查ES模板是否有权限，勾选了web填报，勾选了生成网页格式，重存模板。

检查ES系统用户姓名和账号与企业号通讯录是否一致。

其他与ES有关的新建，查看，待办列表同理。

## 其它问题
开启Debug模式，分析打印出的esap.log调试信息，或将esap.log发给村长大人~，然后给村长发小红包:)
